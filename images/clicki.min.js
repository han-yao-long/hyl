/*2017-08-10 14:34:12 */
!function(a,b,c){function d(){}function e(a){return"function"==typeof a}function f(a){return"[object Array]"==wa.call(Object(a))}function g(a){return void 0!=a&&-1<(a.constructor+"").indexOf("String")}function h(a,b){if(g(a)&&(a=b[a]),!e(a))return d;var c=va.call(arguments,2);return function(){return a.apply(b,c.concat(va.call(arguments)))}}function i(b){var c=a.console,f=La,h=a[f]=a[f]||[];Na&&(Na&&g(xa)&&(xa+=xa.indexOf("?")>-1?"&":"?",xa+="f="+encodeURIComponent(b)+"&m="+encodeURIComponent(va.call(arguments,1).join(""))+"&hash="+j(),m(xa,d,!0)),h.push(va.call(arguments)),h.length>Ma&&h.splice(0,Ma-h.length),c&&c.log&&e(c.log)&&(e(c.log.apply)?c.log.apply(c,arguments):c.log(arguments[0])))}function j(){return Math.round(2147483647*Math.random())}function k(a){var b,c=1,d=0;if(a)for(c=0,b=a.length-1;b>=0;b--)d=a.charCodeAt(b),c=(c<<6&268435455)+d+(d<<14),d=266338304&c,c=0!==d?c^d>>21:c;return c}function l(){for(var a,b=[],c=arguments.length,d=0;c>d;d++)a=arguments[d],d>0&&(a=0===a.indexOf("/")?a.slice(1):a),c-1>d&&(a="/"===a.slice(-1)?a.slice(0,a.length-1):a),b.push(a);return b.join("/")}function m(d,e,f,g){function h(b,d,e,f,g,h){f&&g&&r(f),Ga=h,e(f),b.onload=b.onerror=a[d]=c}var k,l;try{k="_clickiv4_"+ +new Date+j(),l=a[k]=new Image,l.onload=function(){try{h(l,k,e,g,!0,!1)}catch(a){}},l.onerror=function(){try{h(l,k,e,g,!1,!0)}catch(a){}},l.src=d}catch(m){try{l=b.createElement("img"),l.onload=function(){try{h(l,k,e,g,!0,!1)}catch(a){}},l.onerror=function(){try{h(l,k,e,g,!1,!0)}catch(a){}},l.src=d}catch(n){f||i("createImage","error message is: ",m.message)}}}function n(a,c,d,e){if(a){var f=b.createElement("script");f.type="text/javascript",f.async=!0,f.src=a,f.id=c,d&&(f.addEventListener?f.onload=d:f.onreadystatechange=function(){f.readyState in{loaded:1,complete:1}&&(f.onreadystatechange=null,d())}),e&&(f.onerror=e);var g=b.getElementsByTagName("script")[0];g.parentNode.insertBefore(f,g)}}function o(a,b,c,d){a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent&&a.attachEvent("on"+b,c)}function p(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}function q(a){var c=new Date,d=arguments,e=d.length;if(e>1){var f=d[2]||0,g=d[3]||"/",h=d[4]||0,i=d[5]||0;return f&&c.setTime(c.getTime()+1e3*f),b.cookie=a+"="+escape(d[1])+(f?"; expires="+c.toGMTString():"")+("; path="+g)+(h&&"none"!=h?"; domain="+h:"")+(i?"; secure":""),d[1]}var j=b.cookie.match("(?:^|;)\\s*"+a+"=([^;]*)");return j?unescape(j[1]):0}function r(a){var b=t();if(-1!=a.indexOf(Ba)){var c=a+Ca,d=a+Da;s(c,b,"/"),s(d,b,"/")}s(a,b,"/")}function s(a,c,d){var e=new Date;e.setTime(e.getTime()-Ea),b.cookie=a+"="+q(a)+"; domain="+c+";expires="+e.toGMTString()+";path="+d}function t(){var a=""+b.location.hostname;return 0===a.indexOf("www.")?a.substring(4):a}function u(a){var c=b.referrer;if(/^https?:\/\//i.test(c)){if(a)return c;var d="//"+b.location.hostname,e=c.indexOf(d);if(5===e||6===e){var f=c.charAt(e+d.length);if("/"===f||"?"===f||""===f||":"===f)return}return c}}function v(){var b,c,d;if((d=(d=a.navigator)?d.plugins:null)&&d.length)for(var e=0;e<d.length&&!c;e++){var f=d[e];-1<f.name.indexOf("Shockwave Flash")&&(c=f.description)}if(!c)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),c=b.GetVariable("$version")}catch(g){}if(!c)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),c="WIN 6,0,21,0",b.AllowScriptAccess="always",c=b.GetVariable("$version")}catch(h){}if(!c)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),c=b.GetVariable("$version")}catch(i){}return c&&(b=c.match(/[\d]+/g))&&3<=b.length&&(c=b[0]+"."+b[1]+" r"+b[2]),c||void 0}function w(a,b){return a.name=b}function x(a,b){var c,d,e=0,f={};for(d=Math.min(a.length+1,b.length);d>e;e++)if("object"==typeof b[e])for(c in b[e])b[e].hasOwnProperty(c)&&(f[c]=b[e][c]);else a.length>e&&(f[a[e]]=b[e]);return f}function y(a,b){return 1==b.length&&null!=b[0]&&"object"==typeof b[0]?b[0]:x(a,b)}function z(){return ta.userAgent.indexOf("Firefox")>=0&&![].reduce}function A(a,b){var c="",d=(new Date).getTime(),e=t();if(-1!=a.indexOf("t=event"))if(c=Aa+d,a.length<=Fa)q(c,a,Ea,"/",e);else if(a.length<=8192){c=Ba+d;var f=a.substring(0,Fa),g=a.substring(Fa,a.length),h=c+Ca,i=c+Da,j=h+"-"+i;q(c,j,Ea,"/",e),q(h,f,Ea,"/",e),q(i,g,Ea,"/",e)}return c}function B(a,b,c){return b=b||d,a.length<=2036?D(a,b,c):a.length<=8192&&!z()?F(a,b)||E(a,b)||H(a,b):(i("send","request param is to long ",a.length),!1)}function C(a,b,c){b=b||d;var e="";return a.length<=2036?(e=A(a,c),D(a,b,e)):a.length<=8192&&!z()?(e=A(a,c),F(a,b,e)||E(a,b,e)||H(a,b,e)):(i("send","request param is to long ",a.length),!1)}function D(a,b,c){b=b||d,m(l(Qa,Ra)+"?"+a,b,!0,c)}function E(b,c,e){c=c||d;var f=function(){c(),e&&r(e)};if(!a.XDomainRequest)return!1;var g=new a.XDomainRequest;return g.open("POST",l(Qa,Sa)),g.onerror=function(){f()},g.onload=f,g.send(b),!0}function F(b,c,e){c=c||d;var f=function(){c(),e&&r(e)};if(!a.XMLHttpRequest)return!1;var g=new a.XMLHttpRequest;return"withCredentials"in g?(g.open("POST",l(Qa,Sa),!0),g.setRequestHeader("Content-Type","text/plain"),g.onreadystatechange=function(){4==g.readyState&&(f(),c=null)},g.send(b),!0):!1}function G(b,c){if(c=c||d,!a.XMLHttpRequest)return!1;var e=new a.XMLHttpRequest;return e.open("GET",b,!0),e.withCredentials=!0,e.setRequestHeader("Content-Type","text/plain"),e.onreadystatechange=function(){4==e.readyState&&(c(e.responseText,e),c=null)},e.send(null),!0}function H(c,e,f){var g,h,i,j,k=0,m=!1;e=e||d;var n=function(){e(),f&&r(f)};if(i=function(){h.src="",h.parentNode&&h.parentNode.removeChild(h)},j=function(){if(!m)try{if(k>9||h.contentWindow.location.host==b.location.host)return m=!0,i(),p(a,"beforeunload",i),void n()}catch(c){k++,setTimeout(j,200)}},b.body){c+="####==collect_path="+l(Qa,Ta)+"==####",c=encodeURIComponent(c);try{h=b.createElement('<iframe name="'+c+'"></iframe>')}catch(q){h=b.createElement("iframe"),w(h,c)}h.height="0",h.width="0",h.style.display="none",h.style.visibility="hidden",g=l(Qa,Ua)+"#",g+=encodeURIComponent(b.location.protocol+"//"+b.location.host+"/favicon.ico"),o(a,"beforeunload",i),o(h,"load",j),b.body.appendChild(h),h.src=g}else{var s=arguments,t=arguments.callee;setTimeout(function(){t.apply(a,s)},100)}}function I(){this.keys=[],this.t1={},this.t2={}}function J(a,b,c,d,e){var f=this;w(f,a),f.protocolParameter=b,f.defaultValue=c,f.getter=d,f.setter=e}function K(a,b,c,d,e){var f=new J(a,b,c,d,e);return Ya.set(f.name,f),f.name}function L(a,b){Xa.push([new RegExp("^"+a+"$"),b])}function M(a,b,c){return K(a,b,c,void 0,d)}function N(a,b,c,e){return K(a,b,c,e,d)}function O(a){var b=Ya.get(a);if(!b)for(var c=0;c<Xa.length;c++){var d=Xa[c],e=d[0].exec(a);e&&(b=d[1](e),Ya.set(b.name,b))}return b}function P(a){var b;return Ya.map(function(c,d){d.protocolParameter==a&&(b=c)}),b}function Q(a,b){var c=a.get(b);return void 0==c?"":""+c}function R(a,b){var c=a.get(b);return void 0==c?0:1*c}function S(){function a(a,b){return a&&a.hasOwnProperty&&a instanceof b}var b=this;return a(b,S)||(b=new S,b.init()),b}function T(){this.data=new I}function U(){this.stack=[]}function V(){var a=b.location.protocol;if("http:"!=a&&"https:"!=a)throw i("checkProtocolTask","current protocol is:",a),"abort"}function W(a){return a.length>1&&a.lastIndexOf("/")==a.length-1&&(a=a.substr(0,a.length-1)),0!==a.indexOf("/")&&(a="/"+a),a}function X(a){return 0===a.indexOf(".")?a.substr(1):a}function Y(a){if("cookie"===Q(a,Nb)){var b=[],c=a.get(Jb),d=W(a.get(Lb)),e=X(a.get(Kb)),f=a.get(Mb),g=Q(a,ab),h=t().split(".");if("auto"!=e&&(q(c,g,f,d,e),q(c)==g))return void(Yb=!0);if(4==h.length&&h[h.length-1]>0)b=["none"];else{for(var i=h.length-2;i>=0;i--)b.push(h.slice(i).join("."));b.push("none")}for(var j=0;j<b.length;j++)if(e=b[j],q(c,g,f,d,e),q(c)==g)return a.set(Kb,e),void(Yb=!0);a.set(Kb,"auto")}}function Z(a){"cookie"!==Q(a,Nb)||Yb||(Y(a),Yb)||a.data.set(ab,0)}function $(a){if(100!==a.get(Pb)&&k(Q(a,ab))%1e4>=100*R(a,Pb))throw i("samplerTask","current sampleRate is: ",a.get(Pb)),"abort"}function _(a){var b=[];Ya.map(function(c,d){if(d.protocolParameter){var e=a.get(c);0!==e&&e!=d.defaultValue&&("boolean"==typeof e&&(e*=1),b.push(d.protocolParameter+"="+encodeURIComponent(""+e)))}}),b.push("z="+j()),a.set(sb,b.join("&"),!0)}function aa(b){var c=Q(b,sb),e=b.get(rb);if("send_silent"!=a._clicki_dc_send_silent)switch(b.get(_a)){case"image":D(c,e);break;case"cors":F(c,e)||E(c,e);break;case"iframe":H(c,e);break;default:C(c,e,b)}b.set(rb,d,!0)}function ba(){for(var c=ta.appName+ta.version+ta.platform+ta.userAgent+(b.cookie||"")+(b.referrer||""),d=c.length,e=a.history.length;e>0;)c+=e--^d++;return[Math.round((new Date).getTime()/1e3),j()^2147483647&k(c)].join("").substr(0,18)}function ca(a,b){var c=a.get(Jb),d=q(c);b||(b=d||ba()),a.data.set(ab,b),Y(a)}function da(a){var c="CSS1Compat"===b.compatMode?"documentElement":"body";if(a.set("referrer",u(a.get(Rb))),ua){var d=ua.pathname||"";"/"!=d.charAt(0)&&(d="/"+d),a.set(lb,ua.href),sa&&(a.set(cb,sa.width+"*"+sa.height),a.set(fb,sa.colorDepth+"-bit")),a.set(db,b[c].clientWidth+"*"+b[c].clientHeight),a.set(ib,v()),a.set(eb,b.characterSet||b.charset);var f="",g=!1;try{g=ta&&e(ta.javaEnabled)&&ta.javaEnabled()||!1}catch(h){i("collectClientInfo","javaEnabled error",h.message)}try{f=(ta&&(ta.language||ta.browserLanguage)||"").toLowerCase()}catch(j){i("collectClientInfo","language error",j.message)}a.set(hb,g),a.set(gb,f)}}function ea(b){var c=a.performance||a.webkitPerformance,d=c&&c.timing;if(!d)return!1;var e=d.navigationStart;return 0===e?!1:(b[wb]=d.loadEventStart-e,b[yb]=d.domainLookupEnd-d.domainLookupStart,b[Bb]=d.connectEnd-d.connectStart,b[Ab]=d.responseStart-d.requestStart,b[xb]=d.responseEnd-d.responseStart,b[zb]=d.fetchStart-e,b[Cb]=d.domInteractive-e,b[Db]=d.domContentLoadedEventStart-e,!0)}function fa(b){if(a.top!=a)return!1;var c=a.external,d=c&&c.onloadT;return c&&!c.isValidLoadTime&&(d=void 0),d>2147483648&&(d=void 0),d>0&&c.setPageReadyTime(),void 0==d?!1:(b[wb]=d,!0)}function ga(a,b){var c=a[b];(isNaN(c)||1/0==c||0>c)&&(a[b]=void 0)}function ha(b,c){var d=Math.min(R(b,Qb),100);if(k(Q(b,ab))%100<d){var e=[];if(ea(e)||fa(e)){var f=e[wb];void 0!=f&&isFinite(f)&&!isNaN(f)&&(f>0?(ga(e,yb),ga(e,Bb),ga(e,Ab),ga(e,xb),ga(e,zb),ga(e,Cb),ga(e,Db),c(e)):o(a,"load",function(){ha(b,c)},!1))}}}function ia(a){a.timingIsSended||(a.timingIsSended=!0,ha(a.storage,function(b){a.send("timing",b)}))}function ja(a){function b(a,b){setTimeout(function(){a.send("pulse")},1e3*b)}if(a.storage.get(Ob))for(var c=0;c<Pa.length;c++)b(a,Pa[c])}function ka(a){function b(a,b){d.storage.data.set(a,b)}function c(a,c){b(a,c),d.filters.add(a)}var d=this;d.storage=new T,d.filters=new U,b(Ib,a[Ib]),b($a,a[$a]),b(Jb,a[Jb]),b(Kb,a[Kb]||t()),b(Lb,a[Lb]),b(Mb,a[Mb]),b(Pb,a[Pb]),b(_a,a[_a]),b(Qb,a[Qb]),b(Ob,a[Ob]),b(Rb,a[Rb]),b(bb,a[bb]),c(Sb,V),c(Tb,Z),c(Ub,$),c(Vb,_),c(Wb,aa),ca(d.storage,a[ab]),da(d.storage),ja(d)}function la(a,b){var c=this;c.id=a,c.url=b,c.factory=null,c.instance=null,c.loading=!1,c.ready=!1,c.queue=[],c.prefix="plugin_2015_",c.load()}function ma(){this.plugins={}}function na(a){return a.indexOf(".")+a.indexOf(":")>-2}function oa(a){var b=this;if(e(a[0]))b.ready=a[0];else{var c=_b.exec(a[0]);if(null!=c&&4==c.length&&(b.name=c[1]||ya,b.pluginId=c[2]||"",b.action=c[3],b.opts=va.call(a,1)),!b.action)throw i("Env","no action"),"abort";if("require"===b.action&&(!g(a[1])||""===a[1]))throw i("Env","unexpected require arg: ",a[1]),"abort";if("provide"===b.action&&(!g(a[1])||""===a[1]))throw i("Env","unexpected provide arg: ",a[1]),"abort";if(na(b.pluginId)||na(b.action))throw i("Env","pluginId or action has  keyword ."),"abort";if("provide"===b.action&&b.name!=ya)throw i("Env","provide not need trackerName"),"abort"}}function pa(){return ac.append.apply(ac,[arguments])}function qa(a,c){var d=new Date;d.setFullYear(d.getFullYear()+2),b.cookie=a+("; expires="+d.toGMTString())+("; domain="+t()+"; path=/")}function ra(){var a=q("a");a||m(Qa+Va,function(){a=q("a"),a||G(Qa+Wa,qa)},!0)}var sa=a.screen,ta=a.navigator,ua=a.location,va=Array.prototype.slice,wa=Object.prototype.toString,xa="",ya="t0",za="__clickidc",Aa="__stm_evt",Ba="__stm_long_evt",Ca="head",Da="tail",Ea=1800,Fa=3800,Ga=!1,Ha=31536e4,Ia="dc",Ja="queue",Ka="ClickiTrackerName",La="clickiLogStack2015",Ma=3e3,Na=ua.hash.indexOf("clicki/debug/")>-1||!1,Oa=10,Pa=[5,15,30],Qa=("https:"==ua.protocol?"https:":"http:")+"//stm-collect.cn.miaozhen.com/",Ra="track_proxy",Sa="track_ajax",Ta="track_ajax",Ua="collect_iframe.html",Va="em_mzid",Wa="get_mzid";I.prototype.set=function(a,b,c){this.keys.push(a),c?this.t2[":"+a]=b:this.t1[":"+a]=b},I.prototype.get=function(a){return this.t2.hasOwnProperty(":"+a)?this.t2[":"+a]:this.t1[":"+a]},I.prototype.del=function(a){var b=this.keys.indexOf(a);return-1!=b&&this.keys.splice(b,1),this.t2.hasOwnProperty(":"+a)?delete this.t2[":"+a]:delete this.t1[":"+a]},I.prototype.dels=function(a){if(f(a)&&a.length>0)for(var b in a){var c=a[b];this.del(c)}else this.del(a)},I.prototype.map=function(a){for(var b=0;b<this.keys.length;b++){var c=this.keys[b],d=this.get(c);d&&a(c,d)}};var Xa=[],Ya=new I,Za=S.prototype;Za.init=function(){return this.data=[],this.dataLock=[],this.gestureCache=[],this.gestureBindLock=!1,this.binder=["binderScroll","binderKeydown","binderResize","binderMousedown","binderMousemove","binderSwipe","binderTurn","binderPinch"],this.bindEvents(),this.reset(),this},Za.bindEvents=function(){for(var a=0;a<this.binder.length;a++)this.dataLock[a]=!1,this[this.binder[a]](a)},Za.onGesturesEventTrigger=function(a){for(var b=this.gestureCache,c=a.touches?a.touches.length:1,d=c>=2?"pinch":"swipe",e=0;e<b.length;e++)b[e]&&b[e][0]===d&&this.onEventTrigger(b[e][1])},Za.bindGesturesEvent=function(c,d){this.gestureCache.push([c,d]);var e="ontouchstart"in a;!this.gestureBindLock&&e&&b.addEventListener("touchmove",h(this.onGesturesEventTrigger,this),!1)},Za.onEventTrigger=function(a){this.dataLock[a]||(this.dataLock[a]=!0,this.data[a]=1)},Za.binderScroll=function(b){o(a,"scroll",h(this.onEventTrigger,this,b))},Za.binderKeydown=function(a){o(b,"keydown",h(this.onEventTrigger,this,a))},Za.binderResize=function(b){o(a,"resize",h(this.onEventTrigger,this,b))},Za.binderMousedown=function(a){o(b,"mousedown",h(this.onEventTrigger,this,a))},Za.binderMousemove=function(a){o(b,"mousemove",h(this.onEventTrigger,this,a))},Za.binderSwipe=function(a){this.bindGesturesEvent("swipe",a)},Za.binderTurn=function(b){a.orientation&&a.addEventListener("orientationchange",h(this.onEventTrigger,this,b),!1)},Za.binderPinch=function(a){this.bindGesturesEvent("pinch",a)},Za.reset=function(){for(var a=0;a<this.binder.length;a++)this.data[a]=0},Za.get=function(){var a=this.data.join("-");return this.reset(),a},K("protocolVersion","v");var $a=M("trackingId","tid");K("anonymizeIp","aip"),K("queueTime","qt");var _a=K("forceSendMethod"),ab=M("clientId","cid"),bb=K("userId","uid");K("miaozhenId","mzid"),K("sessionControl","sc",""),K("referrer","dr"),K("googleCampaignName","cn"),K("googleCampaignSource","cs"),K("googleCampaignMedium","cm"),K("googleCampaignKeyword","ck"),K("googleCampaignContent","cc"),K("miaozhenCampaignId","mzc"),K("miaozhenAdSpotId","mzs"),K("miaozhenKeywordsId","mzk"),L("customAds([0-9]+)",function(a){return new J(a[0],"ca"+a[1])});var cb=K("screenResolution","sr"),db=K("viewportSize","vp"),eb=K("encoding","de"),fb=K("screenColors","sd"),gb=K("language","ul"),hb=K("javaEnabled","je"),ib=K("flashVersion","fl"),jb=K("hitType","t"),kb=K("nonInteraction","ni",void 0,function(a,b,c){return void 0==c?!1:c}),lb=K("location","dl","");K("hostname","dh");var mb=K("page","dp","");K("title","dt",function(){return b.title||void 0}),K("appName","an"),K("appId","aid",""),K("appVersion","av",""),K("appInstallerId","aiid","");var nb=K("eventCategory","ec"),ob=K("eventAction","ea"),pb=K("eventLabel","el"),qb=K("eventValue","ev");K("customActionId","caid"),L("customActionLabel([0-9]+)",function(a){return new J(a[0],"cal"+a[1])}),L("customActionValue([0-9]+)",function(a){return new J(a[0],"cav"+a[1])}),L("dimension([0-9]+)",function(a){return new J(a[0],"cd"+a[1])}),L("metric([0-9]+)",function(a){return new J(a[0],"cm"+a[1])}),N("userBehavior","ub",void 0,h("get",S()));var rb=K("hitCallback"),sb=K("hitPayload"),tb=K("socialNetwork","sn"),ub=K("socialAction","sa"),vb=K("socialTarget","st"),wb=K("l1","plt"),xb=K("l2","pdt"),yb=K("l3","dns"),zb=K("l4","rrt"),Ab=K("l5","srt"),Bb=K("l6","tcp"),Cb=K("l7","dit"),Db=K("l8","clt"),Eb=K("timingCategory","utc"),Fb=K("timingVar","utv"),Gb=K("timingLabel","utl"),Hb=K("timingValue","utt"),Ib=M("name"),Jb=M("cookieName",void 0,za),Kb=M("cookieDomain"),Lb=M("cookiePath",void 0,"/"),Mb=M("cookieExpires",void 0,Ha),Nb=M("storage",void 0,"cookie"),Ob=M("sendPulse",void 0,!0),Pb=M("sampleRate","sf",100),Qb=M("siteSpeedSampleRate",void 0,Oa),Rb=M("alwaysSendReferrer",void 0,!1),Sb=K("checkProtocolTask"),Tb=K("checkStorageTask"),Ub=K("samplerTask"),Vb=K("buildHitTask"),Wb=K("sendHitTask"),Xb=!1;K("forceSSL",void 0,void 0,function(){return Xb},function(a,b,c){Xb=!!c}),L("\\&(.*)",function(a){var b=new J(a[0],a[1]),c=P(a[0].substring(1));return c&&(b.getter=function(a){return a.get(c)},b.setter=function(a,b,c,d){a.set(b,c,d)},b.protocolParameter=void 0),b}),T.prototype.clearTemp=function(){this.data.t2={}},T.prototype.get=function(a){var b=O(a),c=this.data.get(a);return b&&void 0==c&&(c=e(b.defaultValue)?b.defaultValue():b.defaultValue),b&&e(b.getter)?b.getter(this,a,c):c},T.prototype.set=function(a,b,c){if(a)if("object"==typeof a)for(var d in a)a.hasOwnProperty(d)&&arguments.callee.call(this,d,a[d],c);else{var f=O(a);f&&e(f.setter)?f.setter(this,a,b,c):this.data.set(a,b,c)}},T.prototype.del=function(a,b){if(a)if(b){var c=new RegExp(a),d=[];for(var e in this.data.keys){var f=this.data.keys[e];c.test(f)&&d.push(f)}this.data.dels(d)}else this.data.del(a)},U.prototype.add=function(a){this.stack.push(a)},U.prototype.run=function(b){try{for(var c=0;c<this.stack.length;c++){var f=b.get(this.stack[c]);e(f)&&f.call(a,b)}}catch(g){}var h=b.get(rb);h!=d&&(b.set(rb,d,!0),setTimeout(h,10))};var Yb=!1;ka.prototype.get=function(a){return this.storage.get(a)},ka.prototype.set=function(a,b){return this.storage.set(a,b),this},ka.prototype.del=function(a,b){return this.storage.del(a,b),this};var Zb={pageview:[mb],event:[nb,ob,pb,qb],social:[tb,ub,vb],timing:[Eb,Fb,Gb,Hb]},$b={timing:1,pulse:1};ka.prototype.send=function(){var a,b;return arguments.length>0&&(g(arguments[0])?(a=arguments[0],b=va.call(arguments,1)):(a=arguments[0]&&arguments[0][jb],b=va.call(arguments))),a&&(a in $b&&this.storage.set(kb,!0,!0),b=y(Zb[a]||[],b),b[jb]=a,this.storage.set(b,void 0,!0),this.filters.run(this.storage),"pageview"===a&&ia(this),this.storage.clearTemp()),this},la.prototype.load=function(){var a=this;a.instances=[],a.loading=!0,n(a.url,a.prefix+a.id)},la.prototype.provide=function(a){if(!this.ready){var b;for(this.factory=a,this.ready=!0,this.loading=!1;b=this.queue.shift();)this.use.apply(this,b)}},la.prototype.get=function(a){for(var b,c,d=0;d<this.instances.length;d++)if(b=this.instances[d]||[],b[0]==a)return b[1];try{c=new this.factory(a)}catch(e){c=null,i("plugin provide","factory init error; plugin id is:",this.id,";error message is:",e.message)}return this.instances.push([a,c]),c},la.prototype.use=function(a,b,c){if(this.ready)try{var d=this.get(a);d[b].apply(d,c)}catch(e){i("plugin use","action is: ",b,"; plugin id is:",this.id,";error message is:",e.message)}else this.queue.push(va.call(arguments))},ma.prototype.getAll=function(){return this.plugins},ma.prototype.get=function(a){return this.plugins[a]},ma.prototype.set=function(a,b){this.plugins[a]=b},ma.prototype.use=function(a,b,c,d){var e=this.get(a);e&&e.use&&e.use.apply(e,va.call(arguments,1))},ma.prototype.require=function(a,b){this.get(a)||this.set(a,new la(a,b))},ma.prototype.provide=function(a,b){var c=this.get(a);c&&c.provide&&c.provide.apply(c,va.call(arguments,1))};var _b=/^(?:(\w+)\.)?(?:(\w+):)?(\w+)$/,ac={};ac.envs=[],ac.pluginM=new ma,ac.process=function(){for(var a=[],b=0;b<arguments.length;b++)try{a.push(new oa(arguments[b]))}catch(c){}return a},ac.run=function(b){try{if(b.ready)b.ready.call(a,pa.getByName(ya));else{var c=pa.getByName(b.name);if(b.pluginId)return this.pluginM.use(b.pluginId,c,b.action,b.opts);switch(b.action){case"create":pa.create.apply(pa,b.opts);break;case"remove":pa.remove.call(pa,b.name);break;case"require":this.pluginM.require.apply(this.pluginM,b.opts);break;case"provide":this.pluginM.provide.apply(this.pluginM,b.opts.concat([c]));break;default:return c[b.action].apply(c,b.opts)}}}catch(d){i("controller.run",d.message)}},ac.append=function(){var a,b=this,c=b.process.apply(b,arguments);for(c=b.envs.concat(c),b.envs=[];c.length;)a=b.run(c.shift());return a};var bc=[],cc=function(a,b,c){var d,e;return g(a[b])&&(e=a[b],d=e?e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):""),d||c}(a,Ka,Ia);pa.lock=bc,pa.cache={},pa.start=0,pa.stack=[];var dc=[$a,Kb,Ib,ab];pa.create=function(){var a=y(dc,va.call(arguments));a[Ib]||(a[Ib]=ya);var b=""+a[Ib];if(pa.cache[b])return pa.cache[b];var c=new ka(a);return pa.cache[b]=c,pa.stack.push(c),c},pa.remove=function(a){for(var b=0;b<pa.stack.length;b++)if(pa.stack[b].get(Ib)==a){pa.stack.splice(b,1),pa.cache[a]=null;break}},pa.getAll=function(){return pa.stack.slice(0)},pa.getByName=function(a){return pa.cache[a]},pa.delEventCookie=function(a){Ga||(r(a),Ga=!1)},pa.initFlushCookieEvents=function(){for(var a=b.cookie,c=a?a.split(";"):[],d=0;d<c.length;d++){var e=c[d].split("="),f=e[0];if(f){var g,h,i=(new Date).getTime();if(-1!=f.indexOf(Aa))g=f.substring(f.indexOf(Aa)+Aa.length,f.length),i-parseFloat(g)<1e3*Ea&&(h=e[1],h&&B(decodeURIComponent(h),pa.delEventCookie,f));else if(-1!=f.indexOf(Ba)&&-1==f.indexOf(Ca)&&-1==f.indexOf(Da)&&(g=f.substring(f.indexOf(Ba)+Ba.length,f.length),i-parseFloat(g)<1e3*Ea&&(h=e[1]))){var j=f+Ca,k=f+Da,l=q(j),m=q(k);B(decodeURIComponent(l+m),pa.delEventCookie,f)}}}},pa.init=function(){var b=a[cc];if(!b||!b.loaded){Na=!!b.debug,xa=b.debugSendUrl,pa.loaded=!0,pa.start=b&&b.start,a[cc]=pa;var c=b&&b[Ja];f(c)&&ac.append.apply(ac,c),pa.initFlushCookieEvents(),ra()}},pa.init()}(window,document);